# Group signature （群签名）
## 1、聚合签名和群签名的区别
聚合签名（aggregated signatures）的目的是合并，证明各个参与方都进行了签名。群签名是隐藏某个签名者身份。

聚合签名要求每个参与方都用自己私钥做签名操作，群签名发起方进行签名就够了。

## 2、aggregated signatures（聚合签名）
背景：一个区块中包含1000笔交易，每笔交易都对应一个唯一的数字签名。传统方式：如果想要验证这个区块的正确性，则需要依次验证这1000个签名，验证效率低下；引入聚合签名：如果将聚合签名技术引入：首先将1000个签名聚合成一个签名，仅需要验证最终聚合后的一个签名，验证通过，则证明这个区块没有问题，验证不通过，则说明这1000笔交易中有非法交易。

**所以聚合签名的技术目的是为了证明各个参与方都参与了这次签名**

schnorr的组签实际是聚合签名。

组公钥(Group Key)，是N把公钥进行相加后的值，又称聚合公钥(Aggregation Key)。需要指出的是，参与方需要先相互交换公钥和R值，然后再进行各自的签名。一组公钥，N把，签名后得到N个签名。这个N个签名是可以相加的，最终得到一个签名。这个签名的验证通过，则代表N把公钥的签名全部验证通过。

## 3、Group signature （群签名）
BBS04群签名方案在github上有，不过不是rust的。rust中有BBS签名，但是看起来并没有实现群签名全部流程，只是聚合签名。 

BBS04群签名（github）：https://github.com/FISCO-BCOS/group-signature-lib/blob/master/group_sig/algorithm/bbs04/GroupSig_BBS.cpp

![Alt](../graph/%E7%BE%A4%E7%AD%BE%E5%90%8D.png)

1. 创建群：群主执行，生成群公钥，群主私钥和群参数；
2. 加入群：群主执行，群主为群成员生成私钥和证书，其中证书用于证明成员身份；
3. 生成群签名：群成员通过私钥和证书对信息签名；
4. 验证群签名：验证者可通过群公钥和群参数验证签名的有效性；
5. 打开群签名：群主可通过签名信息可获取签名者证书，从而追踪到签名者身份；
6. 撤销群成员：群主可移除群成员，并更新群公钥；
7. 更新私钥：群成员可根据撤销历史更新自己的私钥。

整体来看，整个群签名流程比较复杂，需要群管理，不够便捷，且进行混淆时，需要真正的链上的成员公钥。目前Rust上开源的应该都是聚合签名， 而不是群签名。